<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TomaSalud - Panel de Control</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16.png">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="assets/css/dashboard.css">
</head>
<body>
    <main class="dashboard-container">
        <header class="dashboard-header">
            <div class="logo-area">
                <img src="assets/images/logo.png" alt="Logo de TomaSalud" class="logo-image">
                <span class="logo-text">TomaSalud</span>
            </div>
            <div class="user-profile">
                <span class="username" id="username-display">Usuario</span>
                <img src="assets/images/usuario.png" alt="Icono de usuario" class="user-icon">
            </div>
        </header>

        <!-- CreaciÃ³n de los paneles -->
        <section class="dashboard-content">
            <!-- Panel de Tratamientos -->
            <div class="treatments-panel">
                <div class="treatments-panel-header">
                    <h3 class="panel-title">Tratamientos</h3>
                    <div class="treatments-header-buttons">
                        <!-- botones de accion tratamientos -->
                        <button class="action-button edit-button-treatments">Editar</button>
                        <button class="action-button delete-button-treatments">Eliminar</button>
                    </div>
                </div>
                <!-- âœ… AGREGADO: Lista de tratamientos -->
                <ul class="treatment-list" id="treatment-list">
                    <!-- Se llenarÃ¡ dinÃ¡micamente -->
                </ul>
                <!-- âœ… AGREGADO: Footer del panel -->
                <div class="panel-footer">
                    <button class="add-button" id="add-treatment-button">+ Nuevo Tratamiento</button>
                </div>
            </div>

            <!-- âœ… CORREGIDO: Panel de medicamentos con estructura completa -->
            <div class="medications-panel">
                <div class="medications-panel-header">
                    <h3 class="panel-title">Medicamentos</h3>
                    <div class="medications-header-buttons">
                        <button class="action-button edit-button-medications">Editar</button>
                        <button class="action-button delete-button-medications">Eliminar</button>
                    </div>
                </div>
                <!-- âœ… AGREGADO: Lista de medicamentos -->
                <ul class="medication-list" id="medication-list">
                    <li class="text-center-muted">Selecciona un tratamiento para ver sus medicamentos</li>
                </ul>
                <!-- âœ… AGREGADO: Footer del panel -->
                <div class="panel-footer">
                    <button class="add-button" id="add-medication-button">+ Nuevo Medicamento</button>
                </div>
            </div>
        </section>

        <!-- âœ… CORREGIDO: Footer con estructura correcta -->
        <footer class="dashboard-footer">
            <button class="action-button" id="alarmas-button">ðŸ”” Ver Alarmas</button>
            <button class="action-button" id="export-pdf-button">ðŸ“„ Exportar PDF</button>
            <button class="action-button" id="logout-button">ðŸšª Salir</button>
        </footer>
    </main>

    <!-- âœ… AGREGADO: Modales para formularios -->
    <!-- Modal para nuevo tratamiento -->
    <div id="treatment-modal" class="modal modal-hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Nuevo Tratamiento</h2>
            <form id="treatment-form">
                <div class="input-group">
                    <label for="treatment-name">Nombre del tratamiento *</label>
                    <input type="text" id="treatment-name" name="nombre_tratamiento" required>
                </div>
                <div class="input-group">
                    <label for="treatment-start">Fecha de inicio *</label>
                    <input type="date" id="treatment-start" name="fecha_inicio" required>
                </div>
                <div class="input-group">
                    <label for="treatment-end">Fecha de fin</label>
                    <input type="date" id="treatment-end" name="fecha_fin">
                </div>
                <button type="submit" class="register-button">Crear Tratamiento</button>
            </form>
        </div>
    </div>

    <!-- Modal para nuevo medicamento -->
    <div id="medication-modal" class="modal modal-hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Nuevo Medicamento</h2>
            <form id="medication-form">
                <div class="input-group">
                    <label for="medication-treatment">Tratamiento *</label>
                    <select id="medication-treatment" name="tratamiento_id" required>
                        <option value="">Seleccionar tratamiento</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="medication-name">Nombre del medicamento *</label>
                    <input type="text" id="medication-name" name="nombre" required>
                </div>
                <div class="input-group">
                    <label for="medication-dose">Dosis *</label>
                    <input type="text" id="medication-dose" name="dosis" placeholder="ej: 500mg" required>
                </div>
                <div class="input-group">
                    <label for="medication-time">Hora *</label>
                    <input type="time" id="medication-time" name="hora" required>
                </div>
                <div class="input-group">
                    <label for="medication-interval">Intervalo (horas) *</label>
                    <input type="number" id="medication-interval" name="intervalo" min="1" max="24" required>
                </div>
                <div class="input-group">
                    <label for="medication-notes">Observaciones</label>
                    <textarea id="medication-notes" name="observacion" rows="3"></textarea>
                </div>
                <button type="submit" class="register-button">Agregar Medicamento</button>
            </form>
        </div>
    </div>

    <!-- Enlace al archivo JavaScript -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/dashboard.js"></script>
</body>
</html>
